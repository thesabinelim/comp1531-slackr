{"version":3,"sources":["utils/routecall.js","AuthContext.js","utils/constants.js","utils/update.js","components/PollToggle/index.js","components/Layout/Header.js","components/Layout/SideMenu.js","components/Layout/Body.js","components/Layout/index.js","components/ProfileList.js","utils/token.js","utils/text.js","components/Channel/AddChannelDialog.js","components/ChannelList.js","components/ProfileChannelLists.js","pages/HomePage.js","components/Channel/AddMemberDialog.js","components/Message/MessagePin.js","components/Message/MessageReact.js","components/Message/MessageRemove.js","components/Message/index.js","components/Message/AddMessageTimerDialog.js","components/Message/AddMessage.js","components/Channel/ChannelMessages.js","utils/index.js","components/Channel/index.js","pages/ChannelPage.js","pages/LoginPage.js","pages/RegisterPage.js","pages/ForgotPasswordPage.js","pages/ResetPasswordPage.js","components/Profile/EditableFields.js","components/Profile/index.js","pages/ProfilePage.js","components/Layout/ProtectedRoute.js","App.js","serviceWorker.js","theme.js","index.js"],"names":["post","url","payload","Axios","qs","stringify","headers","get","AuthContext","React","createContext","AuthProvider","Provider","Consumer","window","BACKEND_PORT","isPolling","getIsPolling","setIsPolling","bool","pollingInterval","stepSubscribers","subscribeToStep","subscriber","push","unsubscribeToStep","unsubscriber","filter","step","forEach","options","PollToggle","useState","open","setOpen","anchorRef","useRef","selectedIndex","setSelectedIndex","handleClose","event","current","contains","target","ButtonGroup","variant","color","ref","aria-label","Button","onClick","disabled","size","aria-owns","undefined","aria-haspopup","prevOpen","Popper","anchorEl","transition","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","id","ClickAwayListener","onClickAway","MenuList","map","option","index","MenuItem","key","selected","handleMenuItemClick","useStyles","makeStyles","theme","appBar","marginLeft","breakpoints","up","width","menuButton","marginRight","spacing","title","flexGrow","logoutButton","float","Header","handleMenuToggle","classes","useTheme","matches","useMediaQuery","token","useContext","loggedOut","setLoggedOut","routecall","then","response","console","log","catch","err","error","localStorage","removeItem","to","AppBar","position","className","Toolbar","IconButton","edge","textDecoration","Typography","noWrap","display","drawer","flexShrink","drawerPaper","toolbar","mixins","alignItems","paddingLeft","SideMenu","container","children","Hidden","smUp","implementation","Drawer","anchor","direction","onClose","paper","ModalProps","keepMounted","Divider","xsDown","body","Body","Layout","menu","ProfileList","uid","List","ListItem","button","component","Link","ListItemIcon","ListItemText","primary","DEFAULT_ERROR_TEXT","CHANNEL_ERROR_TEXT","AddChannelDialog","Dialog","aria-labelledby","DialogTitle","onSubmit","preventDefault","channel_name","value","is_public","checked","toast","DialogContent","DialogContentText","Grid","justify","item","xs","TextField","autoFocus","margin","label","name","fullWidth","FormControlLabel","control","Switch","inputProps","labelPlacement","DialogActions","type","ChannelList","curr_channel_id","channel_id","myChannels","setMyChannels","allChannels","setAllChannels","useEffect","axios","all","params","spread","myChannelResponse","allChannelResponse","myChannelData","data","channels","filteredChannels","channel","find","c","subheader","ListSubheader","flex","ProfileChannelLists","HomePage","props","paddingTop","AddMemberDialog","user_id","withTheme","message_id","is_pinned","isPinned","setIsPinned","path","mdiPin","palette","action","active","mdiPinOutline","MessageReact","reacts","thumbUpCount","is_reacted","thumbUpIndex","findIndex","react","react_id","u_ids","length","is_this_user_reacted","Badge","anchorOrigin","horizontal","vertical","badgeContent","messageReact","fontSize","MessageRemove","Message","message","u_id","time_created","is_unread","setName","initials","setInitials","email","name_first","name_last","handle_str","Avatar","justifyContent","timeago","secondary","height","AddMessageTimerDialog","onTimerChange","Date","selectedDate","setSelectedDate","onChange","d","toDate","KeyboardButtonProps","flexDirection","input","alignSelf","rightIcon","TIMER_INACTIVE_VALUE","AddMessage","currentMessage","setCurrentMessage","currentTimer","setCurrentTimer","timerDialogOpen","setTimerDialogOpen","isTimerSet","submitMessage","trim","time_sent","toISOString","multiline","placeholder","onKeyDown","e","getModifierState","InputProps","endAdornment","InputAdornment","ChannelMessages","messages","setMessages","currentStart","setCurrentStart","fetchChannelMessages","start","end","callback","delay","savedCallback","setInterval","clearInterval","useInterval","Channel","members","setMembers","owners","setOwners","fetchChannelData","owner_members","all_members","userIsOwner","owner","viewerIsOwner","toUpperCase","href","removeOwner","addOwner","member","userIsMember","leaveChannel","joinChannel","ChannelPage","match","backgroundColor","light","card","background","marginTop","padding","borderRadius","shape","LoginPage","setAuth","Container","maxWidth","Box","boxShadow","noValidate","password","history","required","autoComplete","RegisterPage","values","setValues","handleChange","ForgotPasswordPage","reset_code","new_password","EditableFields","editable","master","masterValue","slaves","slaveValues","onSave","edit","setEdit","prevMasterValue","setPrevMasterValue","currMasterValue","setCurrMasterValue","prevSlaveValues","setPrevSlaveValues","currSlaveValues","setCurrSlaveValues","toggleEdit","slave","idx","readOnly","valueIndex","copySlaves","val","onSlaveChange","cursor","Profile","profile","profileDetails","setProfileDetails","currUser","toString","last_name","first_name","passed_props","put","handle","ProfilePage","ProtectedRoute","App","getItem","authDetails","setAuthDetails","setItem","exact","render","ResetPasswordPage","Boolean","location","hostname","createMuiTheme","main","red","A400","default","ReactDOM","ThemeProvider","utils","MomentUtils","CssBaseline","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnVisibilityChange","draggable","pauseOnHover","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fd883b1b.chunk.js","sourcesContent":["\nimport qs from 'querystring';\nimport Axios from 'axios';\n\nexport const post = (url, payload) => {\n    return Axios.post(url, qs.stringify(payload), { headers: { 'Content-Type': 'application/x-www-form-urlencoded' }});\n};\n\nexport const get = (url, payload) => {\n    return Axios.get(url, qs.stringify(payload), { headers: { 'Content-Type': 'application/x-www-form-urlencoded' }});\n};\n\nexport const put = (url, payload) => {\n    return Axios.put(url, qs.stringify(payload), { headers: { 'Content-Type': 'application/x-www-form-urlencoded' }});\n};\n\nexport const del = (url, payload) => {\n    return Axios.delete(url, qs.stringify(payload), { headers: { 'Content-Type': 'application/x-www-form-urlencoded' }});\n};\n","import React from 'react';\n\nconst AuthContext = React.createContext();\n\nexport const AuthProvider = AuthContext.Provider;\nexport const AuthConsumer = AuthContext.Consumer;\nexport default AuthContext;\n","export const drawerWidth = 240;\nexport const url = 'http://localhost:' + window.BACKEND_PORT;\n","let isPolling = false;\nexport const getIsPolling = () => isPolling;\nexport const setIsPolling = bool => isPolling = !!bool; // force boolean type\nexport const pollingInterval = 1000;\nexport const stepSubscribers = [];\nexport const subscribeToStep = (subscriber) => stepSubscribers.push(subscriber);\nexport const unsubscribeToStep = (unsubscriber) => stepSubscribers = stepSubscribers.filter(subscriber => subscriber !== unsubscriber);\nexport const step = () => stepSubscribers.forEach(subscriber => subscriber());\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport { getIsPolling, setIsPolling, step } from '../../utils/update';\n\nconst options = ['Live', 'Step'];\n\nfunction PollToggle() {\n\n    const [open, setOpen] = React.useState(false);\n    const anchorRef = React.useRef(null);\n    const [selectedIndex, setSelectedIndex] = React.useState(getIsPolling() ? 0 : 1);\n\n    const handleClick = () => {\n        step();\n    };\n\n    const handleMenuItemClick = (event, index) => {\n        setIsPolling(index === 0);\n        setSelectedIndex(index);\n        setOpen(false);\n    };\n\n    const handleToggle = () => {\n        setOpen(prevOpen => !prevOpen);\n    };\n\n    const handleClose = event => {\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\n            return;\n        }\n        setOpen(false);\n    };\n\n    return (<>\n        <ButtonGroup variant=\"contained\" color=\"primary\" ref={anchorRef} aria-label=\"split button\">\n            <Button onClick={handleClick} disabled={selectedIndex === 0}>{options[selectedIndex]}</Button>\n            <Button\n            color=\"primary\"\n            size=\"small\"\n            aria-owns={open ? 'menu-list-grow' : undefined}\n            aria-haspopup=\"true\"\n            onClick={handleToggle}\n            >\n            <ArrowDropDownIcon />\n            </Button>\n        </ButtonGroup>\n        <Popper open={open} anchorEl={anchorRef.current} transition disablePortal>\n            {({ TransitionProps, placement }) => (\n            <Grow\n                {...TransitionProps}\n                style={{\n                transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom',\n                }}\n            >\n                <Paper id=\"menu-list-grow\">\n                <ClickAwayListener onClickAway={handleClose}>\n                    <MenuList>\n                    {options.map((option, index) => (\n                        <MenuItem\n                        key={option}\n                        disabled={index === 2}\n                        selected={index === selectedIndex}\n                        onClick={event => handleMenuItemClick(event, index)}\n                        >\n                        {option}\n                        </MenuItem>\n                    ))}\n                    </MenuList>\n                </ClickAwayListener>\n                </Paper>\n            </Grow>\n            )}\n        </Popper>\n    </>);\n}\n\nexport default PollToggle;","import {\n  AppBar,\n  Button,\n  IconButton,\n  Toolbar,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport * as routecall from '../../utils/routecall';\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport AuthContext from '../../AuthContext';\nimport { drawerWidth, url } from '../../utils/constants';\nimport PollToggle from '../PollToggle';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  logoutButton: {\n    float: 'right',\n  },\n}));\n\nfunction Header({ handleMenuToggle = () => {} }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n  const token = React.useContext(AuthContext);\n  const [loggedOut, setLoggedOut] = React.useState(false);\n\n  if (loggedOut) {\n    routecall.post(`${url}/auth/logout`, { token })\n      .then((response) => {\n        console.log(response);\n      })\n      .catch((err) => {\n        console.error(err);\n        // toast.error(DEFAULT_ERROR_TEXT);\n      });\n    localStorage.removeItem('token');\n    return <Redirect to=\"/login\" />;\n  }\n\n  return (\n    <AppBar position=\"fixed\" className={classes.appBar}>\n      <Toolbar>\n        {!matches && (\n          <>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              onClick={handleMenuToggle}\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Link to=\"/\" style={{ color: 'white', textDecoration: 'none' }}>\n              <Typography variant=\"h5\" noWrap>\n                Slackr\n              </Typography>\n            </Link>\n          </>\n        )}\n        <div variant=\"h6\" className={classes.title}>\n\n        </div>\n        <div style={{display:'flex'}}>\n          <PollToggle />\n          <Button\n            color=\"inherit\"\n            className={classes.logoutButton}\n            onClick={() => {\n              setLoggedOut(true);\n            }}\n          >\n            Logout\n          </Button>\n        </div>\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport { Divider, Drawer, Hidden, Typography } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { drawerWidth } from '../../utils/constants';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nfunction SideMenu({ container, children, open, setOpen }) {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return (\n    <nav className={classes.drawer} aria-label=\"channels\">\n      {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n      <Hidden smUp implementation=\"css\">\n        <Drawer\n          container={container}\n          variant=\"temporary\"\n          anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n          open={open}\n          onClose={() => setOpen(false)}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n          ModalProps={{\n            keepMounted: true, // Better open performance on mobile.\n          }}\n        >\n          <div className={classes.toolbar} />\n          <Divider />\n          {children}\n        </Drawer>\n      </Hidden>\n      <Hidden xsDown implementation=\"css\">\n        <Drawer\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n          variant=\"permanent\"\n          open\n        >\n          <div className={classes.toolbar}>\n            <Link to=\"/\" style={{ color: 'black', textDecoration: 'none' }}>\n              <Typography variant=\"h5\" noWrap>\n                Slackr\n              </Typography>\n            </Link>\n          </div>\n          {children}\n        </Drawer>\n      </Hidden>\n    </nav>\n  );\n}\n\nexport default SideMenu;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { drawerWidth } from '../../utils/constants';\n\nconst useStyles = makeStyles((theme) => ({\n  body: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n    },\n    padding: 20,\n  },\n  toolbar: theme.mixins.toolbar,\n}));\n\nfunction Body({ children }) {\n  const classes = useStyles();\n  return (\n    <div className={classes.body}>\n      {/* Padding */}\n      <div className={classes.toolbar} />\n      {children}\n    </div>\n  );\n}\n\nexport default Body;\n","import React from 'react';\nimport Header from './Header';\nimport SideMenu from './SideMenu';\nimport Body from './Body';\n\nfunction Layout({ menu, body }) {\n  const [open, setOpen] = React.useState(false);\n  function handleMenuToggle() {\n    setOpen((open) => !!!open);\n  }\n  return (\n    <div style={{ display: 'flex' }}>\n      <Header handleMenuToggle={handleMenuToggle} />\n      <SideMenu open={open} setOpen={setOpen}>\n        {menu}\n      </SideMenu>\n      <Body>{body}</Body>\n    </div>\n  );\n}\n\nexport default Layout;\n","import React from 'react';\nimport { List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport { Link } from 'react-router-dom';\nimport { extractUId } from '../utils/token';\nimport AuthContext from '../AuthContext';\n\nfunction ProfileList() {\n  const uid = extractUId(React.useContext(AuthContext));\n  return (\n    <List>\n      <ListItem button key={'profile'} component={Link} to={`/profile/${uid}`}>\n        <ListItemIcon>\n          <AccountCircle />\n        </ListItemIcon>\n        <ListItemText primary=\"Profile\" />\n      </ListItem>\n    </List>\n  );\n}\n\nexport default ProfileList;\n","export function extractUId(token) {\n  return 0;\n}\n","// General POST error\nexport const DEFAULT_ERROR_TEXT = 'An error occured. Try again later';\n\n// Specific GET errors\nexport const CHANNEL_ERROR_TEXT = 'Unable to retrieve channel information';\n// export const\n","import React from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  IconButton,\n  Button,\n  Switch,\n  TextField,\n  Grid,\n  FormControlLabel,\n  FormLabel,\n} from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport Add from '@material-ui/icons/Add';\nimport * as routecall from '../../utils/routecall';\nimport { url } from '../../utils/constants';\nimport AuthContext from '../../AuthContext';\nimport { toast } from 'react-toastify';\nimport { DEFAULT_ERROR_TEXT } from '../../utils/text';\n\nfunction AddChannelDialog({ ...props }) {\n  const [open, setOpen] = React.useState(false);\n  const token = React.useContext(AuthContext);\n  function handleClickOpen() {\n    setOpen(true);\n  }\n  function handleClose() {\n    setOpen(false);\n  }\n  function handleSubmit(event) {\n    event.preventDefault();\n    const channel_name = event.target[0].value;\n    const secret = event.target[1].checked;\n    const is_public = !secret;\n    console.log(is_public);\n\n    if (!channel_name) return;\n\n    routecall.post(`${url}/channels/create`, { token, channel_name, is_public })\n      .then((response) => {\n        console.log(response);\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(DEFAULT_ERROR_TEXT);\n      });\n  }\n  return (\n    <div>\n      <IconButton size=\"small\" onClick={handleClickOpen}>\n        <Add />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Create Channel</DialogTitle>\n        <form onSubmit={handleSubmit}>\n          <DialogContent>\n            <DialogContentText>\n              Complete the form below to create a new channel\n            </DialogContentText>\n            <Grid\n              container\n              spacing={2}\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"center\"\n            >\n              <Grid item xs={12}>\n                <TextField\n                  autoFocus\n                  margin=\"dense\"\n                  id=\"channel_name\"\n                  label=\"Channel Name\"\n                  name=\"channel_name\"\n                  fullWidth\n                />\n              </Grid>\n              <Grid container item justify=\"center\" alignItems=\"center\">\n                <Visibility />\n                <FormControlLabel\n                  control={\n                    <Switch\n                      value=\"secret\"\n                      inputProps={{ 'aria-label': 'Secret' }}\n                    />\n                  }\n                  label=\"Secret\"\n                  labelPlacement=\"top\"\n                />\n                <VisibilityOff />\n              </Grid>\n            </Grid>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={handleClose} type=\"submit\" color=\"primary\">\n              Create\n            </Button>\n          </DialogActions>\n        </form>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default AddChannelDialog;\n","import React from 'react';\nimport * as routecall from '../utils/routecall';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nimport {\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListSubheader,\n} from '@material-ui/core';\n\nimport RadioButtonCheckedIcon from '@material-ui/icons/RadioButtonChecked';\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\nimport { url } from '../utils/constants';\nimport AuthContext from '../AuthContext';\nimport AddChannelDialog from './Channel/AddChannelDialog';\n\nfunction ChannelList({ channel_id: curr_channel_id }) {\n  const [myChannels, setMyChannels] = React.useState([]);\n  const [allChannels, setAllChannels] = React.useState([]);\n\n  const token = React.useContext(AuthContext);\n  React.useEffect(() => {\n    // fetch channels data\n    const getMyChannels = () => {\n      return routecall.get(`${url}/channels/list`, {\n        params: {\n          token,\n        },\n      });\n    };\n\n    const getAllChannels = () => {\n      return routecall.get(`${url}/channels/listall`, {\n        params: {\n          token,\n        },\n      });\n    };\n    axios.all([getMyChannels(), getAllChannels()]).then(\n      axios.spread((myChannelResponse, allChannelResponse) => {\n        const myChannelData = myChannelResponse.data.channels;\n        console.log(myChannelData);\n        const allChannelData = allChannelResponse.data.channels;\n        const filteredChannels = allChannelData.filter((channel) => {\n          return (\n            myChannelData.find((c) => c.channel_id === channel.channel_id) ===\n            undefined\n          );\n        });\n        console.log(filteredChannels);\n        setMyChannels(myChannelData);\n        setAllChannels(filteredChannels);\n      })\n    );\n  }, []);\n\n  return (\n    <>\n      <List\n        subheader={\n          <ListSubheader style={{ display: 'flex' }}>\n            <span style={{ flex: 1 }}>My Channels</span>\n            <AddChannelDialog />\n          </ListSubheader>\n        }\n      >\n        {myChannels.map(({ channel_id, name }, index) => (\n          <ListItem\n            button\n            key={channel_id}\n            component={Link}\n            to={`/channel/${channel_id}`}\n          >\n            <ListItemIcon>\n              {channel_id == curr_channel_id ? (\n                <RadioButtonCheckedIcon />\n              ) : (\n                <RadioButtonUncheckedIcon />\n              )}\n            </ListItemIcon>\n            <ListItemText primary={name} />\n          </ListItem>\n        ))}\n      </List>\n      <List subheader={<ListSubheader>Other Channels</ListSubheader>}>\n        {allChannels.map(({ channel_id, name }, index) => (\n          <ListItem\n            button\n            key={channel_id}\n            component={Link}\n            to={`/channel/${channel_id}`}\n          >\n            <ListItemIcon>\n              {channel_id == curr_channel_id ? (\n                <RadioButtonCheckedIcon />\n              ) : (\n                <RadioButtonUncheckedIcon />\n              )}\n            </ListItemIcon>\n            <ListItemText primary={name} />\n          </ListItem>\n        ))}\n      </List>\n    </>\n  );\n}\n\nexport default ChannelList;\n","import React from 'react';\nimport ProfileList from './ProfileList';\nimport ChannelList from './ChannelList';\n\nfunction ProfileChannelLists({ channel_id }) {\n  return (\n    <>\n      <ProfileList />\n      <ChannelList channel_id={channel_id} />\n    </>\n  );\n}\n\nexport default ProfileChannelLists;\n","import React from 'react';\nimport Layout from '../components/Layout';\nimport ProfileChannelLists from '../components/ProfileChannelLists';\nimport { Typography } from '@material-ui/core';\n\nfunction HomePage(props) {\n  return (\n    <Layout\n      menu={<ProfileChannelLists />}\n      body={\n        <>\n          <Typography variant=\"h4\">WELCOME</Typography>\n          <div style={{ paddingTop: 15 }}>\n            <Typography variant=\"body1\">\n              This is SengChat: agile messaging for Software Engineers \n            </Typography>\n          </div>\n        </>\n      }\n    />\n  );\n}\n\nexport default HomePage;\n","import React from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  Button,\n  TextField,\n} from '@material-ui/core';\nimport * as routecall from '../../utils/routecall';\nimport { url } from '../../utils/constants';\nimport AuthContext from '../../AuthContext';\nimport { toast } from 'react-toastify';\nimport { DEFAULT_ERROR_TEXT } from '../../utils/text';\n\nfunction AddMemberDialog({ channel_id, ...props }) {\n  const [open, setOpen] = React.useState(false);\n  const token = React.useContext(AuthContext);\n  function handleClickOpen() {\n    setOpen(true);\n  }\n  function handleClose() {\n    setOpen(false);\n  }\n  function handleSubmit(event) {\n    event.preventDefault();\n    const user_id = event.target[0].value;\n\n    if (!user_id) return;\n\n    routecall.post(`${url}/channel/invite`, { token, user_id, channel_id })\n      .then((response) => {\n        console.log(response);\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(DEFAULT_ERROR_TEXT);\n      });\n  }\n  return (\n    <div>\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\n        Invite Member\n      </Button>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Invite User</DialogTitle>\n        <form onSubmit={handleSubmit}>\n          <DialogContent>\n            <DialogContentText>\n              Enter a user id below to invite a user to this channel\n            </DialogContentText>\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"user_id\"\n              label=\"User ID\"\n              name=\"user_id\"\n              fullWidth\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={handleClose} type=\"submit\" color=\"primary\">\n              Invite\n            </Button>\n          </DialogActions>\n        </form>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default AddMemberDialog;\n","import React from 'react';\nimport * as routecall from '../../utils/routecall';\n\nimport MdiIcon from '@mdi/react';\nimport { mdiPin, mdiPinOutline } from '@mdi/js';\nimport { IconButton } from '@material-ui/core';\n\nimport { url } from '../../utils/constants';\n\nimport { withTheme } from '@material-ui/styles';\nimport AuthContext from '../../AuthContext';\n\nfunction MessagePin({\n  message_id,\n  is_pinned = false,\n  theme,\n}) {\n\n  const [isPinned, setIsPinned] = React.useState(is_pinned);\n  React.useEffect(() => setIsPinned(is_pinned),[is_pinned]);\n\n  const token = React.useContext(AuthContext);\n\n  const toggle = () => {\n    if (isPinned) {\n      routecall.post(`${url}/message/unpin`, {\n        token,\n        message_id,\n      });\n    } else {\n      routecall.post(`${url}/message/pin`, {\n        token,\n        message_id,\n      });\n    }\n    // Optimistic re-rendering\n    // setIsPinned(isPinned => !!!isPinned);\n  };\n\n  return (\n    <IconButton\n    onClick={toggle}\n    style={{ margin: 1 }}\n    size=\"small\"\n    edge=\"end\"\n    aria-label=\"delete\"\n    >\n    {isPinned ? (\n        <MdiIcon\n        path={mdiPin}\n        size=\"1em\"\n        color={theme && theme.palette.action.active}\n        />\n    ) : (\n        <MdiIcon\n        path={mdiPinOutline}\n        size=\"1em\"\n        color={theme && theme.palette.action.active}\n        />\n    )}\n    </IconButton>\n  );\n}\n\nexport default withTheme(MessagePin);\n","import React from 'react';\nimport * as routecall from '../../utils/routecall';\n\nimport {\n  Badge,\n  IconButton,\n} from '@material-ui/core';\n\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport ThumbUpOutlinedIcon from '@material-ui/icons/ThumbUpOutlined';\n\nimport { url } from '../../utils/constants';\n\nimport AuthContext from '../../AuthContext';\n\nfunction MessageReact({\n  message_id,\n  reacts = [] /* [{ react_id, u_ids }] */,\n}) {\n\n  const token = React.useContext(AuthContext);\n\n  const messageReact = (is_reacted) => {\n    if (is_reacted) {\n      routecall.post(`${url}/message/unreact`, {\n        token,\n        message_id,\n        react_id: 1 /* FIXME */,\n      });\n    } else {\n      routecall.post(`${url}/message/react`, {\n        token,\n        message_id,\n        react_id: 1 /* FIXME */,\n      });\n    }\n  };\n\n  let thumbUpCount = 0;\n  let is_reacted = false;\n  const thumbUpIndex = reacts.findIndex((react) => react.react_id === 1);\n  if (thumbUpIndex !== -1) {\n    thumbUpCount = reacts[thumbUpIndex].u_ids.length;\n    is_reacted = reacts[thumbUpIndex].is_this_user_reacted;\n  }\n\n  return (\n    <Badge\n      anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n      badgeContent={thumbUpCount}\n      color=\"secondary\"\n    >\n      <IconButton\n        onClick={() => messageReact(is_reacted)}\n        style={{ margin: 1 }}\n        size=\"small\"\n        edge=\"end\"\n        aria-label=\"delete\"\n      >\n        {is_reacted ? (\n          <ThumbUpIcon fontSize=\"small\" />\n          ) : (\n          <ThumbUpOutlinedIcon fontSize=\"small\" />\n        )}\n      </IconButton>\n    </Badge>\n  );\n}\n\nexport default MessageReact;\n","import React from 'react';\nimport * as routecall from '../../utils/routecall';\n\nimport { IconButton } from '@material-ui/core';\n\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport { url } from '../../utils/constants';\n\nimport AuthContext from '../../AuthContext';\n\nfunction MessageRemove({\n  message_id,\n}) {\n\n  const token = React.useContext(AuthContext);\n\n  const messageRemove = () => {\n    routecall.post(`${url}/message/remove`, {\n      token,\n      message_id,\n    });\n  };\n\n\n  return (\n    <IconButton\n      onClick={messageRemove}\n      style={{ margin: 1 }}\n      size=\"small\"\n      edge=\"end\"\n      aria-label=\"delete\"\n    >\n      <DeleteIcon fontSize=\"small\" />\n    </IconButton>\n  );\n}\n\nexport default MessageRemove;\n","import React from 'react';\nimport * as routecall from '../../utils/routecall';\nimport timeago from 'epoch-timeago';\n\nimport {\n  Avatar,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\n\n\nimport { url } from '../../utils/constants';\n\nimport AuthContext from '../../AuthContext';\nimport MessagePin from './MessagePin';\nimport MessageReact from './MessageReact';\nimport MessageRemove from './MessageRemove';\n\n\nfunction Message({\n  message_id,\n  message = '',\n  u_id,\n  time_created,\n  is_unread = false,\n  is_pinned = false,\n  reacts = [] /* [{ react_id, u_ids }] */,\n}) {\n\n  const [name, setName] = React.useState();\n  const [initials, setInitials] = React.useState();\n  const token = React.useContext(AuthContext);\n  React.useEffect(() => {\n    setName();\n    setInitials();\n    routecall\n      .get(`${url}/user/profile`, {\n        params: {\n          token,\n          u_id,\n        },\n      })\n      .then(({ data }) => {\n        const {\n          email = '',\n          name_first = '',\n          name_last = '',\n          handle_str = '',\n        } = data;\n        setName(`${name_first} ${name_last}`);\n        setInitials(`${name_first[0]}${name_last[0]}`);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }, [message_id, token, u_id]);\n\n  const messageRemove = () => {\n    routecall.post(`${url}/message/remove`, {\n      token,\n      message_id,\n    });\n  };\n\n\n  return (\n    <ListItem key={message_id} style={{ width: '100%' }}>\n      {name && initials && message && (\n        <>\n          <ListItemIcon>\n            <Avatar>{initials}</Avatar>\n          </ListItemIcon>\n          <div\n            style={{\n              display: 'flex',\n              width: '100%',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n            }}\n          >\n            <ListItemText\n              primary={\n                <>\n                  <span>{name}</span>\n                  <span style={{ paddingLeft: 10, fontSize: 10 }}>\n                    {timeago(time_created * 1000)}\n                  </span>\n                </>\n              }\n              secondary={message}\n            />\n            <div style={{ display: 'flex', height: 30, marginLeft: 20 }}>\n              <MessageReact\n                message_id={message_id}\n                reacts={reacts}\n                u_id={u_id}\n              />\n              <MessagePin\n                message_id={message_id}\n                is_pinned={is_pinned}\n              />\n              <MessageRemove\n                message_id={message_id}\n              />\n            </div>\n          </div>\n        </>\n      )}\n    </ListItem>\n  );\n}\n\nexport default Message;\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from '@material-ui/core';\nimport { KeyboardTimePicker } from '@material-ui/pickers';\nimport React from 'react';\n\nfunction AddMessageTimerDialog({ open, handleClose, onTimerChange, ...props }) {\n  const [selectedDate, setSelectedDate] = React.useState(new Date());\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onTimerChange(selectedDate);\n  }\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Send later</DialogTitle>\n        <form onSubmit={handleSubmit}>\n          <DialogContent>\n            <KeyboardTimePicker\n              margin=\"normal\"\n              id=\"time-picker\"\n              label=\"Time picker\"\n              value={selectedDate}\n              onChange={(d) => setSelectedDate(d.toDate())}\n              KeyboardButtonProps={{\n                'aria-label': 'change time',\n              }}\n            />\n            <DialogContentText>Enter a time to send</DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={handleClose} type=\"submit\" color=\"primary\">\n              Set Time\n            </Button>\n          </DialogActions>\n        </form>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default AddMessageTimerDialog;\n","import {\n  Button,\n  TextField,\n  InputAdornment,\n  IconButton,\n} from '@material-ui/core';\nimport React from 'react';\nimport SendIcon from '@material-ui/icons/Send';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport { makeStyles } from '@material-ui/styles';\nimport AuthContext from '../../AuthContext';\nimport { url } from '../../utils/constants';\nimport * as routecall from '../../utils/routecall';\nimport { toast } from 'react-toastify';\nimport { DEFAULT_ERROR_TEXT } from '../../utils/text';\nimport AddMessageTimerDialog from './AddMessageTimerDialog';\n\nconst useStyles = makeStyles((theme) => ({\n  flex: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  input: {\n    margin: theme.spacing(1),\n    marginRight: 0,\n  },\n  button: {\n    margin: theme.spacing(1),\n    marginLeft: 0,\n    alignSelf: 'stretch',\n  },\n  rightIcon: {\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nconst TIMER_INACTIVE_VALUE = -1;\n\nfunction AddMessage({ channel_id = '' }) {\n  const classes = useStyles();\n  const [currentMessage, setCurrentMessage] = React.useState('');\n  const [currentTimer, setCurrentTimer] = React.useState(TIMER_INACTIVE_VALUE);\n  const [timerDialogOpen, setTimerDialogOpen] = React.useState(false);\n  const token = React.useContext(AuthContext);\n\n  const isTimerSet = currentTimer !== TIMER_INACTIVE_VALUE;\n\n  const submitMessage = () => {\n    const message = currentMessage.trim();\n    if (!message) return;\n    setCurrentMessage('');\n\n    // Depending on if timer active\n    if (isTimerSet) {\n      routecall.post(`${url}/message/sendlater`, {\n        token,\n        channel_id,\n        message,\n        time_sent: currentTimer.toISOString(),\n      })\n        .then(({ data }) => {\n          console.log(data);\n        })\n        .catch((err) => {\n          console.error(err);\n          toast.error(DEFAULT_ERROR_TEXT);\n        });\n      setCurrentTimer(TIMER_INACTIVE_VALUE);\n    } else {\n      routecall.post(`${url}/message/send`, {\n        token,\n        channel_id,\n        message,\n      })\n        .then(({ data }) => {\n          console.log(data);\n        })\n        .catch((err) => {\n          console.error(err);\n          toast.error(DEFAULT_ERROR_TEXT);\n        });\n    }\n  };\n\n  const keyDown = (e) => {\n    if (e.key === 'Enter' && !e.getModifierState('Shift')) {\n      e.preventDefault();\n      submitMessage();\n    }\n  };\n\n  return (\n    <>\n      <div className={classes.flex}>\n        <TextField\n          className={classes.input}\n          label=\"Send a message \"\n          multiline\n          placeholder=\"...\"\n          // helperText=\"Add a new message to this channel!\"\n          fullWidth\n          margin=\"normal\"\n          variant=\"filled\"\n          onKeyDown={keyDown}\n          value={currentMessage}\n          onChange={(e) => setCurrentMessage(e.target.value)}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <IconButton\n                  aria-label=\"toggle visibility\"\n                  onClick={() =>\n                    isTimerSet ? setCurrentTimer(-1) : setTimerDialogOpen(true)\n                  }\n                >\n                  <TimerIcon color={isTimerSet ? 'secondary' : undefined} />\n                </IconButton>\n              </InputAdornment>\n            ),\n          }}\n        />\n        <Button\n          className={classes.button}\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={submitMessage}\n        >\n          Send\n          <SendIcon className={classes.rightIcon} />\n        </Button>\n      </div>\n      <AddMessageTimerDialog\n        open={timerDialogOpen}\n        handleClose={() => setTimerDialogOpen(false)}\n        onTimerChange={setCurrentTimer}\n      />\n    </>\n  );\n}\n\nexport default AddMessage;\n","import React from 'react';\nimport axios from 'axios';\n\nimport { List, ListSubheader } from '@material-ui/core';\nimport { url } from '../../utils/constants';\nimport { pollingInterval, getIsPolling, subscribeToStep, unsubscribeToStep } from '../../utils/update';\nimport Message from '../Message';\nimport AuthContext from '../../AuthContext';\nimport { toast } from 'react-toastify';\nimport { CHANNEL_ERROR_TEXT } from '../../utils/text';\nimport AddMessage from '../Message/AddMessage';\nimport { useInterval } from '../../utils';\n\nfunction ChannelMessages({ channel_id = '' }) {\n  const [messages, setMessages] = React.useState([]);\n  const [currentStart, setCurrentStart] = React.useState(0);\n  const token = React.useContext(AuthContext);\n\n  const fetchChannelMessages = () => axios\n  .get(`${url}/channel/messages`, {\n    params: {\n      token,\n      channel_id,\n      start: currentStart,\n    },\n  })\n  .then(({ data }) => {\n    const { messages, start, end } = data;\n    setCurrentStart(end); // TODO: add/remove problems\n    setMessages(messages);\n  })\n  .catch((err) => {\n    console.error(err);\n    toast.error(CHANNEL_ERROR_TEXT);\n  });\n\n  React.useEffect(() => {\n    subscribeToStep(fetchChannelMessages);\n    return () => unsubscribeToStep(fetchChannelMessages);\n  }, [])\n\n  useInterval(() => {\n    if (getIsPolling()) fetchChannelMessages();\n  }, pollingInterval);\n\n  React.useEffect(() => {\n    axios\n      .get(`${url}/channel/messages`, {\n        params: {\n          token,\n          channel_id,\n          start: currentStart,\n        },\n      })\n      .then(({ data }) => {\n        const { messages, start, end } = data;\n        setCurrentStart(end); // TODO: add/remove problems\n        setMessages(messages);\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(CHANNEL_ERROR_TEXT);\n      });\n  }, [token, channel_id, currentStart]);\n\n  return (\n    <>\n      <List\n        subheader={<ListSubheader>Messages</ListSubheader>}\n        style={{ width: '100%' }}\n      >\n        {messages.map((message) => (\n          <Message {...message} />\n        ))}\n      </List>\n      <AddMessage channel_id={channel_id} />\n    </>\n  );\n}\n\nexport default ChannelMessages;\n","// from: https://overreacted.io/making-setinterval-declarative-with-react-hooks/\nimport { useEffect, useRef } from 'react';\n\nexport function useInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    // Remember the latest callback.\n    useEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n\n    // Set up the interval.\n    useEffect(() => {\n        function tick() {\n        savedCallback.current();\n        }\n        if (delay !== null) {\n        let id = setInterval(tick, delay);\n        return () => clearInterval(id);\n        }\n    }, [delay]);\n}","import {\n  Avatar,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListSubheader,\n  Typography,\n  Button,\n  Grid,\n  Link,\n  IconButton,\n} from '@material-ui/core';\nimport PersonAdd from '@material-ui/icons/PersonAdd';\nimport PersonAddDisabled from '@material-ui/icons/PersonAddDisabled';\nimport axios from 'axios';\nimport React from 'react';\nimport { toast } from 'react-toastify';\nimport { url } from '../../utils/constants';\nimport { CHANNEL_ERROR_TEXT, DEFAULT_ERROR_TEXT } from '../../utils/text';\nimport AddMemberDialog from './AddMemberDialog';\nimport ChannelMessages from './ChannelMessages';\nimport AuthContext from '../../AuthContext';\nimport { extractUId } from '../../utils/token';\n\nfunction Channel({ channel_id, ...props }) {\n  const [name, setName] = React.useState('');\n  const [members, setMembers] = React.useState([]);\n  const [owners, setOwners] = React.useState([]);\n  const token = React.useContext(AuthContext);\n  const u_id = extractUId(token);\n\n  function fetchChannelData(channel_id, token) {\n    axios\n      .get(`${url}/channel/details`, {\n        params: {\n          token,\n          channel_id,\n        },\n      })\n      .then(({ data }) => {\n        console.log(data);\n        const { name, owner_members, all_members } = data;\n        // assumes members of form [{ u_id, name_first, name_last }]\n        setMembers(all_members);\n        setOwners(owner_members);\n        setName(name);\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(CHANNEL_ERROR_TEXT);\n      });\n  }\n  React.useEffect(() => {\n    fetchChannelData(channel_id, token);\n  }, [channel_id, token]);\n\n  function joinChannel(channel_id, token) {\n    axios\n      .post(`${url}/channel/join`, {\n        token,\n        channel_id,\n      })\n      .then(() => {\n        fetchChannelData(channel_id, token);\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(DEFAULT_ERROR_TEXT);\n      });\n  }\n\n  function leaveChannel(channel_id, token) {\n    axios\n      .post(`${url}/channel/leave`, {\n        token,\n        channel_id,\n      })\n      .then(() => {\n        fetchChannelData(channel_id, token);\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(DEFAULT_ERROR_TEXT);\n      });\n  }\n\n  function addOwner(u_id) {\n    axios\n      .post(`${url}/channel/addowner`, {\n        token,\n        channel_id,\n        u_id,\n      })\n      .then(() => {\n        fetchChannelData(channel_id, token);\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(DEFAULT_ERROR_TEXT);\n      });\n  }\n\n  function removeOwner(u_id) {\n    axios\n      .post(`${url}/channel/removeowner`, {\n        token,\n        channel_id,\n        u_id,\n      })\n      .then(() => {\n        fetchChannelData(channel_id, token);\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(DEFAULT_ERROR_TEXT);\n      });\n  }\n\n  function userIsMember(members) {\n    console.log(members);\n    return members.find((member) => member.u_id === u_id) !== undefined;\n  }\n\n  function userIsOwner(owners, u_id) {\n    return owners.find((owner) => owner.u_id === u_id) !== undefined;\n  }\n  const viewerIsOwner = userIsOwner(owners, u_id);\n  return (\n    <>\n      <Typography variant=\"h4\">{name.toUpperCase()}</Typography>\n      <List subheader={<ListSubheader>Members</ListSubheader>}>\n        {members.map(({ u_id, name_first, name_last }) => (\n          <ListItem key={u_id}>\n            <ListItemIcon>\n              <Avatar>\n                {name_first[0]}\n                {name_last[0]}\n              </Avatar>\n            </ListItemIcon>\n            <ListItemText\n              primary={\n                <>\n                  <Grid container alignItems=\"center\" spacing={1}>\n                    <Grid item>\n                      <Link\n                        href={`/profile/${u_id}`}\n                      >{`${name_first} ${name_last}`}</Link>\n                      {`${userIsOwner(owners, u_id) ? ' ' : ' '}`}\n                    </Grid>\n                    {viewerIsOwner && (\n                      <Grid item>\n                        {userIsOwner(owners, u_id) ? (\n                          <IconButton\n                            size=\"small\"\n                            onClick={() => removeOwner(u_id)}\n                          >\n                            <PersonAddDisabled />\n                          </IconButton>\n                        ) : (\n                          <IconButton\n                            size=\"small\"\n                            onClick={() => addOwner(u_id)}\n                          >\n                            <PersonAdd />\n                          </IconButton>\n                        )}\n                      </Grid>\n                    )}\n                  </Grid>\n                </>\n              }\n            />\n          </ListItem>\n        ))}\n        <ListItem key=\"invite_member\">\n          {userIsMember(members) ? (\n            <Grid container spacing={1}>\n              <Grid item>\n                <AddMemberDialog channel_id={channel_id} />\n              </Grid>\n              <Grid item>\n                <Button\n                  variant=\"outlined\"\n                  onClick={() => leaveChannel(channel_id, token)}\n                >\n                  Leave Channel\n                </Button>\n              </Grid>\n            </Grid>\n          ) : (\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => joinChannel(channel_id, token)}\n            >\n              Join Channel\n            </Button>\n          )}\n        </ListItem>\n      </List>\n      <ChannelMessages channel_id={channel_id} />\n    </>\n  );\n}\n\nexport default Channel;\n","import React from 'react';\nimport Layout from '../components/Layout';\nimport ProfileChannelLists from '../components/ProfileChannelLists';\nimport Channel from '../components/Channel';\n\nfunction ChannelPage({ match }) {\n  const { channel_id } = match.params;\n  return (\n    <Layout\n      menu={<ProfileChannelLists channel_id={channel_id} />}\n      body={<Channel channel_id={channel_id} />}\n    />\n  );\n}\n\nexport default ChannelPage;\n","import {\n  Avatar,\n  Box,\n  Button,\n  Container,\n  Grid,\n  Link,\n  makeStyles,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport * as routecall from '../utils/routecall';\nimport React from 'react';\nimport { toast } from 'react-toastify';\nimport { url } from '../utils/constants';\nimport { DEFAULT_ERROR_TEXT } from '../utils/text';\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.primary.light,\n    },\n  },\n  card: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(8),\n    padding: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderRadius: theme.shape.borderRadius,\n  },\n}));\n\nfunction LoginPage({ setAuth, ...props }) {\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    // Get user inputs (TODO:)\n    const email = event.target[0].value;\n    const password = event.target[2].value;\n\n    // Quick validation\n    if (!email || !password) return;\n\n    // Send to backend\n    routecall.post(`${url}/auth/login`, { email, password })\n      .then((response) => {\n        console.log(response);\n        const data = response.data;\n        setAuth(data.token);\n        props.history.push('/');\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(DEFAULT_ERROR_TEXT);\n      });\n  }\n\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"sm\">\n      <Box boxShadow={3} className={classes.card}>\n        <Avatar>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Login\n        </Typography>\n        <form noValidate onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email\"\n            name=\"email\"\n            type=\"text\"\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n          />\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\n            Sign In\n          </Button>\n          <Grid container direction=\"column\" alignItems=\"center\">\n            <Grid item>\n              <br />\n              <Link href=\"/register\" variant=\"body1\">\n                {\"Don't have an account? Register\"}\n              </Link>\n            </Grid>\n            <Grid item>\n              <br />\n              <Link href=\"/forgot_password\" variant=\"body1\">\n                Forgot password?\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </Box>\n    </Container>\n  );\n}\n\nexport default LoginPage;\n","import {\n  Avatar,\n  Box,\n  Button,\n  Container,\n  Grid,\n  Link,\n  makeStyles,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport DeveloperOutlinedIcon from '@material-ui/icons/DeveloperModeOutlined';\nimport * as routecall from '../utils/routecall';\nimport React from 'react';\nimport { url } from '../utils/constants';\nimport { toast } from 'react-toastify';\nimport { DEFAULT_ERROR_TEXT } from '../utils/text';\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.primary.light,\n    },\n  },\n  card: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(8),\n    padding: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderRadius: theme.shape.borderRadius,\n  },\n}));\n\nfunction RegisterPage({ setAuth, ...props }) {\n\n  const [values, setValues] = React.useState({\n    name_first: '',\n    name_last: '',\n    email: '',\n    password: '',\n  });\n\n  const handleChange = name => event => {\n    setValues({ ...values, [name]: event.target.value });\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    // Quick validation\n    if (!values.email || !values.password) return;\n\n    // Send to backend\n    routecall.post(`${url}/auth/register`, { ...values })\n      .then((response) => {\n        console.log(response);\n        const data = response.data;\n        setAuth(data.token);\n        props.history.push('/');\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(DEFAULT_ERROR_TEXT);\n      });\n  }\n\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"sm\">\n      <Box boxShadow={3} className={classes.card}>\n        <Avatar>\n          <DeveloperOutlinedIcon color=\"secondary\" />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Register\n        </Typography>\n        <form noValidate onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"name_first\"\n            label=\"First name\"\n            name=\"name_first\"\n            type=\"text\"\n            autoFocus\n            value={values.name_first}\n            onChange={handleChange('name_first')}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"name_last\"\n            label=\"Last name\"\n            name=\"name_last\"\n            type=\"text\"\n            value={values.name_last}\n            onChange={handleChange('name_last')}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email\"\n            name=\"email\"\n            type=\"email\"\n            value={values.email}\n            onChange={handleChange('email')}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            value={values.password}\n            onChange={handleChange('password')}\n          />\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\n            Sign Up\n          </Button>\n          <Grid container>\n            <Grid item>\n              <br />\n              <Link href=\"/login\" variant=\"body1\">\n                {'Already have an account? Login'}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </Box>\n    </Container>\n  );\n}\n\nexport default RegisterPage;\n","import {\n  Avatar,\n  Box,\n  Button,\n  Container,\n  Grid,\n  Link,\n  makeStyles,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport DeveloperOutlinedIcon from '@material-ui/icons/DeveloperModeOutlined';\nimport * as routecall from '../utils/routecall';\nimport React from 'react';\nimport { toast } from 'react-toastify';\nimport { url } from '../utils/constants';\nimport { DEFAULT_ERROR_TEXT } from '../utils/text';\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.primary.light,\n    },\n  },\n  card: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(8),\n    padding: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderRadius: theme.shape.borderRadius,\n  },\n}));\n\nfunction ForgotPasswordPage(props) {\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    // Get user inputs (TODO:)\n    const email = event.target[0].value;\n\n    // Quick validation\n    if (!email) return;\n\n    // Send to backend\n    routecall.post(`${url}/auth/passwordreset/request`, { email })\n      .then((response) => {\n        console.log(response);\n        props.history.push('/reset_password');\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(DEFAULT_ERROR_TEXT);\n      });\n  }\n\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"sm\">\n      <Box boxShadow={3} className={classes.card}>\n        <Avatar>\n          <DeveloperOutlinedIcon color=\"secondary\" />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Forgot Password\n        </Typography>\n        <form noValidate onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email\"\n            name=\"email\"\n            type=\"email\"\n            autoFocus\n          />\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\n            Send Recovery Email\n          </Button>\n          <Grid container>\n            <Grid item>\n              <br />\n              <Link href=\"/login\" variant=\"body1\">\n                {'Remember your password? Login'}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </Box>\n    </Container>\n  );\n}\n\nexport default ForgotPasswordPage;\n","import {\n  Avatar,\n  Box,\n  Button,\n  Container,\n  Grid,\n  Link,\n  makeStyles,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport DeveloperOutlinedIcon from '@material-ui/icons/DeveloperModeOutlined';\nimport * as routecall from '../utils/routecall';\nimport React from 'react';\nimport { toast } from 'react-toastify';\nimport { url } from '../utils/constants';\nimport { DEFAULT_ERROR_TEXT } from '../utils/text';\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.primary.light,\n    },\n  },\n  card: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(8),\n    padding: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderRadius: theme.shape.borderRadius,\n  },\n}));\n\nfunction ForgotPasswordPage(props) {\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    // Get user inputs (TODO:)\n    const reset_code = event.target[0].value;\n    const new_password = event.target[2].value;\n\n    // Quick validation\n    if (!reset_code || !new_password) return;\n\n    // Send to backend\n    routecall.post(`${url}/auth/passwordreset/reset`, { reset_code, new_password })\n      .then((response) => {\n        console.log(response);\n        props.history.push('/login');\n      })\n      .catch((err) => {\n        console.error(err);\n        toast.error(DEFAULT_ERROR_TEXT);\n      });\n  }\n\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"sm\">\n      <Box boxShadow={3} className={classes.card}>\n        <Avatar>\n          <DeveloperOutlinedIcon color=\"secondary\" />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Reset Password\n        </Typography>\n        <form noValidate onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"reset_code\"\n            label=\"Reset code\"\n            name=\"reset_code\"\n            type=\"text\"\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"new_password\"\n            label=\"New Password\"\n            name=\"new_password\"\n            type=\"password\"\n          />\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\n            Change Password\n          </Button>\n          <Grid container>\n            <Grid item>\n              <br />\n              <Link href=\"/login\" variant=\"body1\">\n                {'Remember your password? Login'}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </Box>\n    </Container>\n  );\n}\n\nexport default ForgotPasswordPage;\n","import React from 'react';\nimport Edit from '@material-ui/icons/Edit';\nimport Cancel from '@material-ui/icons/Cancel';\nimport Save from '@material-ui/icons/Save';\nimport { TextField, Grid } from '@material-ui/core';\n\nfunction EditableFields({\n  editable,\n  master,\n  masterValue,\n  slaves,\n  slaveValues,\n  onSave,\n  ...props\n}) {\n  const [edit, setEdit] = React.useState(false);\n  const [prevMasterValue, setPrevMasterValue] = React.useState();\n  const [currMasterValue, setCurrMasterValue] = React.useState(masterValue);\n  const [prevSlaveValues, setPrevSlaveValues] = React.useState([]);\n  const [currSlaveValues, setCurrSlaveValues] = React.useState(slaveValues);\n  function toggleEdit() {\n    setPrevMasterValue(currMasterValue);\n    setPrevSlaveValues(currSlaveValues);\n    setEdit(!edit);\n  }\n\n  function icons() {\n    if (!editable) return null;\n    if (edit) {\n      return (\n        <>\n          <Save\n            style={{ cursor: 'pointer' }}\n            onClick={() => {\n              if (!currMasterValue) return;\n              if (onSave) {\n                if (currSlaveValues) {\n                  onSave(currMasterValue, ...currSlaveValues);\n                } else {\n                  onSave(currMasterValue);\n                }\n              }\n              toggleEdit();\n            }}\n          />\n          <Cancel\n            style={{ cursor: 'pointer' }}\n            onClick={() => {\n              setCurrMasterValue(prevMasterValue);\n              setCurrSlaveValues(prevSlaveValues);\n              toggleEdit();\n            }}\n          />\n        </>\n      );\n    }\n    return <Edit style={{ cursor: 'pointer' }} onClick={toggleEdit} />;\n  }\n  function onSlaveChange(event, valueIndex) {\n    let copySlaves = currSlaveValues.map((val, idx) => {\n      if (idx === valueIndex) return event.target.value;\n      return val;\n    });\n    setCurrSlaveValues(copySlaves);\n  }\n  function onMasterChange(event) {\n    setCurrMasterValue(event.target.value);\n  }\n  return (\n    <Grid container spacing={1} alignItems=\"flex-end\">\n      {slaves &&\n        slaves.map((slave, idx) => {\n          return (\n            <Grid item key={idx}>\n              {slave({\n                value: currSlaveValues[idx],\n                InputProps: { readOnly: !edit },\n                onChange: (event) => onSlaveChange(event, idx),\n              })}\n            </Grid>\n          );\n        })}\n      <Grid item>\n        {master({\n          value: currMasterValue,\n          InputProps: { readOnly: !edit },\n          onChange: onMasterChange,\n        })}\n      </Grid>\n      {editable && <Grid item>{icons()}</Grid>}\n    </Grid>\n  );\n}\n\nexport default EditableFields;\n","import {\n  List,\n  ListItem,\n  ListSubheader,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport axios from 'axios';\nimport React from 'react';\nimport AuthContext from '../../AuthContext';\nimport { url } from '../../utils/constants';\nimport { extractUId } from '../../utils/token';\nimport EditableFields from './EditableFields';\n\nfunction Profile({ profile, ...props }) {\n  const [profileDetails, setProfileDetails] = React.useState({});\n  const token = React.useContext(AuthContext);\n  const currUser = extractUId(token);\n  React.useEffect(() => {\n    axios\n      .get(`${url}/user/profile`, { params: { token, profile } })\n      .then(({ data }) => {\n        console.log(data);\n        setProfileDetails(data);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }, [profile, token]);\n\n  function updateName(name_last, name_first) {\n    axios\n      .put(`${url}/user/profile/setname`, { token, name_first, name_last })\n      .then(() => {\n        console.log('all good');\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function updateEmail(email) {\n    axios\n      .put(`${url}/user/profile/setemail`, { token, email })\n      .then(() => {\n        console.log('all good');\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function updateHandle(handle) {\n    axios\n      .put(`${url}/user/profile/sethandle`, { token, handle })\n      .then(() => {\n        console.log('all good');\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  const editable = currUser.toString() === profile;\n  return (\n    <>\n      <Typography variant=\"h4\">Profile</Typography>\n      <List subheader={<ListSubheader>Profile Details</ListSubheader>}>\n        <ListItem key={'name'}>\n          <EditableFields\n            editable={editable}\n            masterValue={profileDetails.last_name}\n            slaveValues={[profileDetails.first_name]}\n            master={(passed_props) => (\n              <TextField label={'Last Name'} {...passed_props} />\n            )}\n            slaves={[\n              (passed_props) => (\n                <TextField label={'First Name'} {...passed_props} />\n              ),\n            ]}\n            onSave={updateName}\n          />\n        </ListItem>\n        <ListItem key={'email'}>\n          <EditableFields\n            editable={editable}\n            masterValue={profileDetails.email}\n            master={(passed_props) => (\n              <TextField label={'Email'} {...passed_props} />\n            )}\n            onSave={updateEmail}\n          />\n        </ListItem>\n        <ListItem key={'handle'}>\n          <EditableFields\n            editable={editable}\n            masterValue={'phlips'}\n            master={(passed_props) => (\n              <TextField label={'Handle'} {...passed_props} />\n            )}\n            onSave={updateHandle}\n          />\n        </ListItem>\n      </List>\n    </>\n  );\n}\n\nexport default Profile;\n","import React from 'react';\nimport Layout from '../components/Layout';\nimport ProfileChannelLists from '../components/ProfileChannelLists';\nimport Profile from '../components/Profile';\n\nfunction ProfilePage({ match }) {\n  const { profile } = match.params;\n  return (\n    <Layout\n      menu={<ProfileChannelLists />}\n      body={<Profile profile={profile} />}\n    />\n  );\n}\n\nexport default ProfilePage;","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport AuthContext from '../../AuthContext';\n\nfunction ProtectedRoute(props) {\n  const token = React.useContext(AuthContext);\n  console.log(token);\n  if (!token) {\n    return <Redirect to=\"/login\" />;\n  }\n  return <Route {...props} />;\n}\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport './App.css';\n\nimport HomePage from './pages/HomePage';\nimport ChannelPage from './pages/ChannelPage';\nimport LoginPage from './pages/LoginPage';\nimport RegisterPage from './pages/RegisterPage';\nimport ForgotPasswordPage from './pages/ForgotPasswordPage';\nimport ResetPasswordPage from './pages/ResetPasswordPage';\nimport ProfilePage from './pages/ProfilePage';\nimport ProtectedRoute from './components/Layout/ProtectedRoute';\n\nimport { AuthProvider } from './AuthContext';\n\nfunction App() {\n  const [authDetails, setAuthDetails] = React.useState(\n    localStorage.getItem('token')\n  );\n\n  function setAuth(token) {\n    localStorage.setItem('token', token);\n    setAuthDetails(token);\n  }\n  return (\n    <AuthProvider value={authDetails}>\n      <Router>\n        <Switch>\n          <Route\n            exact\n            path=\"/login\"\n            render={(props) => {\n              return <LoginPage {...props} setAuth={setAuth} />;\n            }}\n          />\n          <Route\n            exact\n            path=\"/register\"\n            render={(props) => {\n              return <RegisterPage {...props} setAuth={setAuth} />;\n            }}\n          />\n          <Route exact path=\"/forgot_password\" component={ForgotPasswordPage} />\n          <Route exact path=\"/reset_password\" component={ResetPasswordPage} />\n          <ProtectedRoute exact path=\"/\" component={HomePage} />\n          <ProtectedRoute path=\"/profile/:profile\" component={ProfilePage} />\n          <ProtectedRoute path=\"/channel/:channel_id\" component={ChannelPage} />\n        </Switch>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import { red } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#556cd6',\n    },\n    secondary: {\n      main: '#19857b',\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      default: '#fff',\n    },\n  },\n});\n\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport theme from './theme';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport MomentUtils from '@date-io/moment';\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <MuiPickersUtilsProvider utils={MomentUtils}>\n      {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n      <CssBaseline />\n      <App />\n      <ToastContainer\n        position=\"top-center\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop\n        closeOnClick\n        rtl={false}\n        pauseOnVisibilityChange\n        draggable\n        pauseOnHover\n      />\n    </MuiPickersUtilsProvider>\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}